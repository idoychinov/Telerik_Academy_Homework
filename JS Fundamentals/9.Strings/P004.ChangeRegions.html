<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Change Regions</title>
</head>
<body>
    <p>The test results are in the Java Script Console in the browser.</p>
    <script>
        /* 4. You are given a text. Write a function that changes the text in all regions:
            <upcase>text</upcase> to uppercase.
            <lowcase>text</lowcase> to lowercase
            <mixcase>text</mixcase> to mix casing(random)
            We are <mixcase>living</mixcase> in a <upcase>yellow submarine</upcase>. 
            We <mixcase>don't</mixcase> have <lowcase>anything</lowcase> else.
            The expected result:
            We are LiVinG in a YELLOW SUBMARINE. We dOn'T have anything else.
            Regions can be nested
        */

        var text = 'We are living in an yellow submarine. We don\'t have anything else.Inside the submarine is very tight. So we are drinking all the day. We will move out of it in 5 days.';
        var toSearch = 'in';
        console.log('The substring "' + toSearch + '" is found in the text ' + countSubstring(text, toSearch) + ' times');

        function countSubstring(text, substring) {
            var count = 0,
                currentIndex = 0,
                len = substring.length,
                text = text.toLowerCase(),
                substring = substring.toLowerCase();

            do {
                currentIndex = text.indexOf(substring, currentIndex);
                if (currentIndex > -1) {
                    count += 1;
                    currentIndex += len;
                }
            } while (currentIndex > -1)

            return count;
        }

    </script>
</body>
</html>
